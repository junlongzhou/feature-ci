import{u as de,_ as Me}from"./components-D9PxTpgW.js";import{p as Ue,a4 as ze,g as De,a5 as He,r as w,s as Y,A as ce,e as I,a6 as Le,x as z,M as ae,a7 as qe,h as Ee,i as l,L as G,D as j,a8 as Ge,n as be,a9 as Ke,aa as ke,ab as Je,ac as Be,N as ve,y as we,o as te,k as fe,w as B,Q as Ne,O as We,a3 as Qe,q as $e,E as Ze,z as Xe,ad as Ye,Z as Fe,ae as ea,af as aa,ag as ta,j as la,v as na,ah as ua}from"./index-D3ojRB6d.js";import{m as oa,u as sa,e as le,f as Oe,b as Se,d as xe,V as Pe,a as ia,g as ra,h as ca,i as da,j as Ae,k as va,l as fa,n as ma,o as pa}from"./VForm-DPioLLmB.js";import{V as ye}from"./VRow-D2VtcfyE.js";import{m as ha,c as ga,u as Va,d as ya,e as xa,f as ba,g as wa,h as je,i as Ie,j as Ca}from"./VDialog-C1QuPGpr.js";import{q as _a,r as ka,k as Fa,j as Te,g as Sa,I as Pa,h as Aa}from"./VBtn-fYltUM7Y.js";import{i as Ia,h as Ta,g as Re}from"./VToolbar-CTtrlpKH.js";function Ra(e,u,t){if(u==null)return e;if(Array.isArray(u))throw new Error("Multiple matches is not implemented");return typeof u=="number"&&~u?l(G,null,[l("span",{class:"v-autocomplete__unmask"},[e.substr(0,u)]),l("span",{class:"v-autocomplete__mask"},[e.substr(u,t)]),l("span",{class:"v-autocomplete__unmask"},[e.substr(u+t)])]):e}const Ma=Ue({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...ha({filterKeys:["title"]}),...ga(),...ze(oa({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),..._a({transition:!1})},"VAutocomplete"),Ua=De()({name:"VAutocomplete",props:Ma(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,u){let{slots:t}=u;const{t:h}=He(),o=w(),s=Y(!1),V=Y(!0),T=Y(!1),N=w(),R=w(),f=ce(e,"menu"),r=I({get:()=>f.value,set:a=>{var c;f.value&&!a&&((c=N.value)!=null&&c.Î¨openChildren)||(f.value=a)}}),n=Y(-1),i=I(()=>{var a;return(a=o.value)==null?void 0:a.color}),P=I(()=>r.value?e.closeText:e.openText),{items:g,transformIn:M,transformOut:K}=Ia(e),{textColorClasses:p,textColorStyles:F}=ka(i),x=ce(e,"search",""),d=ce(e,"modelValue",[],a=>M(a===null?[null]:Le(a)),a=>{const c=K(a);return e.multiple?c:c[0]??null}),H=I(()=>typeof e.counterValue=="function"?e.counterValue(d.value):typeof e.counterValue=="number"?e.counterValue:d.value.length),$=sa(),{filteredItems:J,getMatches:L}=Va(e,g,()=>V.value?"":x.value),C=I(()=>e.hideSelected?J.value.filter(a=>!d.value.some(c=>c.value===a.value)):J.value),m=I(()=>!!(e.chips||t.chip)),k=I(()=>m.value||!!t.selection),A=I(()=>d.value.map(a=>a.props.value)),U=I(()=>{var c;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&x.value===((c=C.value[0])==null?void 0:c.title))&&C.value.length>0&&!V.value&&!T.value}),q=I(()=>e.hideNoData&&!C.value.length||e.readonly||($==null?void 0:$.isReadonly.value)),W=w(),{onListScroll:ee,onListKeydown:O}=ya(W,o);function X(a){e.openOnClear&&(r.value=!0),x.value=""}function ne(){q.value||(r.value=!0)}function ue(a){q.value||(s.value&&(a.preventDefault(),a.stopPropagation()),r.value=!r.value)}function me(a){var v,y,D;if(e.readonly||$!=null&&$.isReadonly.value)return;const c=o.value.selectionStart,b=d.value.length;if((n.value>-1||["Enter","ArrowDown","ArrowUp"].includes(a.key))&&a.preventDefault(),["Enter","ArrowDown"].includes(a.key)&&(r.value=!0),["Escape"].includes(a.key)&&(r.value=!1),U.value&&["Enter","Tab"].includes(a.key)&&!d.value.some(_=>{let{value:S}=_;return S===C.value[0].value})&&Q(C.value[0]),a.key==="ArrowDown"&&U.value&&((v=W.value)==null||v.focus("next")),["Backspace","Delete"].includes(a.key)){if(!e.multiple&&k.value&&d.value.length>0&&!x.value)return Q(d.value[0],!1);if(~n.value){const _=n.value;Q(d.value[n.value],!1),n.value=_>=b-1?b-2:_}else a.key==="Backspace"&&!x.value&&(n.value=b-1)}if(e.multiple){if(a.key==="ArrowLeft"){if(n.value<0&&c>0)return;const _=n.value>-1?n.value-1:b-1;d.value[_]?n.value=_:(n.value=-1,o.value.setSelectionRange((y=x.value)==null?void 0:y.length,(D=x.value)==null?void 0:D.length))}if(a.key==="ArrowRight"){if(n.value<0)return;const _=n.value+1;d.value[_]?n.value=_:(n.value=-1,o.value.setSelectionRange(0,0))}}}function pe(a){if(ke(o.value,":autofill")||ke(o.value,":-webkit-autofill")){const c=g.value.find(b=>b.title===a.target.value);c&&Q(c)}}function he(){var a;s.value&&(V.value=!0,(a=o.value)==null||a.focus())}function oe(a){s.value=!0,setTimeout(()=>{T.value=!0})}function se(a){T.value=!1}function ge(a){(a==null||a===""&&!e.multiple&&!k.value)&&(d.value=[])}const Ve=Y(!1);function Q(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!a||a.props.disabled))if(e.multiple){const b=d.value.findIndex(y=>e.valueComparator(y.value,a.value)),v=c??!~b;if(~b){const y=v?[...d.value,a]:[...d.value];y.splice(b,1),d.value=y}else v&&(d.value=[...d.value,a]);e.clearOnSelect&&(x.value="")}else{const b=c!==!1;d.value=b?[a]:[],x.value=b&&!k.value?a.title:"",ae(()=>{r.value=!1,V.value=!0})}}return z(s,(a,c)=>{var b;a!==c&&(a?(Ve.value=!0,x.value=e.multiple||k.value?"":String(((b=d.value.at(-1))==null?void 0:b.props.title)??""),V.value=!0,ae(()=>Ve.value=!1)):(!e.multiple&&x.value==null&&(d.value=[]),r.value=!1,d.value.some(v=>{let{title:y}=v;return y===x.value})||(x.value=""),n.value=-1))}),z(x,a=>{!s.value||Ve.value||(a&&(r.value=!0),V.value=!a)}),z(r,()=>{if(!e.hideSelected&&r.value&&d.value.length){const a=C.value.findIndex(c=>d.value.some(b=>c.value===b.value));qe&&window.requestAnimationFrame(()=>{var c;a>=0&&((c=R.value)==null||c.scrollToIndex(a))})}}),z(()=>e.items,(a,c)=>{r.value||s.value&&!c.length&&a.length&&(r.value=!0)}),Ee(()=>{const a=!!(!e.hideNoData||C.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),c=d.value.length>0,b=le.filterProps(e);return l(le,j({ref:o},b,{modelValue:x.value,"onUpdate:modelValue":[v=>x.value=v,ge],focused:s.value,"onUpdate:focused":v=>s.value=v,validationValue:d.externalValue,counterValue:H.value,dirty:c,onChange:pe,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":r.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!k.value,"v-autocomplete--selecting-index":n.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:c?void 0:e.placeholder,"onClick:clear":X,"onMousedown:control":ne,onKeydown:me}),{...t,default:()=>l(G,null,[l(xa,j({ref:N,modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,activator:"parent",contentClass:"v-autocomplete__content",disabled:q.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:he},e.menuProps),{default:()=>[a&&l(Ta,j({ref:W,selected:A.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:v=>v.preventDefault(),onKeydown:O,onFocusin:oe,onFocusout:se,onScrollPassive:ee,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var v,y,D;return[(v=t["prepend-item"])==null?void 0:v.call(t),!C.value.length&&!e.hideNoData&&(((y=t["no-data"])==null?void 0:y.call(t))??l(Re,{title:h(e.noDataText)},null)),l(ba,{ref:R,renderless:!0,items:C.value},{default:_=>{var _e;let{item:S,index:Z,itemRef:E}=_;const Ce=j(S.props,{ref:E,key:Z,active:U.value&&Z===0?!0:void 0,onClick:()=>Q(S,null)});return((_e=t.item)==null?void 0:_e.call(t,{item:S,index:Z,props:Ce}))??l(Re,j(Ce,{role:"option"}),{prepend:ie=>{let{isSelected:re}=ie;return l(G,null,[e.multiple&&!e.hideSelected?l(wa,{key:S.value,modelValue:re,ripple:!1,tabindex:"-1"},null):void 0,S.props.prependAvatar&&l(Fa,{image:S.props.prependAvatar},null),S.props.prependIcon&&l(Te,{icon:S.props.prependIcon},null)])},title:()=>{var ie,re;return V.value?S.title:Ra(S.title,(ie=L(S))==null?void 0:ie.title,((re=x.value)==null?void 0:re.length)??0)}})}}),(D=t["append-item"])==null?void 0:D.call(t)]}})]}),d.value.map((v,y)=>{function D(E){E.stopPropagation(),E.preventDefault(),Q(v,!1)}const _={"onClick:close":D,onKeydown(E){E.key!=="Enter"&&E.key!==" "||(E.preventDefault(),E.stopPropagation(),D(E))},onMousedown(E){E.preventDefault(),E.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},S=m.value?!!t.chip:!!t.selection,Z=S?Ge(m.value?t.chip({item:v,index:y,props:_}):t.selection({item:v,index:y})):void 0;if(!(S&&!Z))return l("div",{key:v.value,class:["v-autocomplete__selection",y===n.value&&["v-autocomplete__selection--selected",p.value]],style:y===n.value?F.value:{}},[m.value?t.chip?l(Sa,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:v.title}}},{default:()=>[Z]}):l(je,j({key:"chip",closable:e.closableChips,size:"small",text:v.title,disabled:v.props.disabled},_),null):Z??l("span",{class:"v-autocomplete__selection-text"},[v.title,e.multiple&&y<d.value.length-1&&l("span",{class:"v-autocomplete__selection-comma"},[be(",")])])])})]),"append-inner":function(){var _;for(var v=arguments.length,y=new Array(v),D=0;D<v;D++)y[D]=arguments[D];return l(G,null,[(_=t["append-inner"])==null?void 0:_.call(t,...y),e.menuIcon?l(Te,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:ue,onClick:Ke,"aria-label":h(P.value),title:h(P.value),tabindex:"-1"},null):void 0])}})}),Oe({isFocused:s,isPristine:V,menu:r,search:x,filteredItems:J,select:Q},o)}}),Da={__name:"FeatureChangeForm",props:Je(["branch"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:u}){const t=Be(e,"modelValue"),h=e,o=w([]),{components:s,query:V,pageSize:T}=ve(de()),{getComponents:N}=de();we(()=>{T.value=500,t.value&&t.value.forEach(n=>{r(n.component)&&o.value.push(n.component)})}),u({refresh:()=>{o.value.splice(0),t.value&&(t.value.forEach(n=>{r(n.component)&&o.value.push(n.component)}),R())}});function R(){t.value&&t.value.splice(0),o.value.forEach(n=>{const i=r(n);i&&t.value.push({component:n,source_branch:h.branch,target_branch:i!=null&&i.main_branch?i.main_branch:"master",properties:i.properties?i.properties:[]})})}async function f(n){V.value=n,await N()}function r(n){return s.value.find(i=>i.id===n)}return(n,i)=>{const P=Me;return te(),fe(Pe,{variant:"outlined"},{default:B(()=>[l(Se,null,{default:B(()=>[l(xe,null,{default:B(()=>[l(ye,null,{default:B(()=>[l(Ua,{label:"Components",modelValue:o.value,"onUpdate:modelValue":[i[0]||(i[0]=g=>o.value=g),R],"item-value":"id","item-title":"display_name",items:Ne(s),variant:"outlined","onUpdate:search":f,multiple:"",chips:"","onUpdate:focused":R},null,8,["modelValue","items"])]),_:1}),(te(!0),We(G,null,Qe(t.value,g=>(te(),fe(ye,{class:"my-3"},{default:B(()=>[l(Pe,{width:"850px"},{default:B(()=>[l(ia,null,{default:B(()=>{var M;return[be($e((M=r(g.component))==null?void 0:M.display_name),1)]}),_:2},1024),l(Se,null,{default:B(()=>[l(xe,null,{default:B(()=>[l(ye,null,{default:B(()=>[l(le,{class:"mx-1",density:"compact",modelValue:g.source_branch,"onUpdate:modelValue":M=>g.source_branch=M,label:"Source Branch",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"]),l(le,{class:"mx-1",density:"compact",modelValue:g.target_branch,"onUpdate:modelValue":M=>g.target_branch=M,label:"Target Branch",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"]),l(P,{spaceClass:"mx-1",density:"compact",modelValue:g.properties,"onUpdate:modelValue":M=>g.properties=M},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})}}},Ea=Ue({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...ra(),...ca()},"VTextarea"),Ba=De()({name:"VTextarea",directives:{Intersect:Pa},inheritAttrs:!1,props:Ea(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,u){let{attrs:t,emit:h,slots:o}=u;const s=ce(e,"modelValue"),{isFocused:V,focus:T,blur:N}=da(e),R=I(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),f=I(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function r(m,k){var A,U;!e.autofocus||!m||(U=(A=k[0].target)==null?void 0:A.focus)==null||U.call(A)}const n=w(),i=w(),P=Y(""),g=w(),M=I(()=>e.persistentPlaceholder||V.value||e.active);function K(){var m;g.value!==document.activeElement&&((m=g.value)==null||m.focus()),V.value||T()}function p(m){K(),h("click:control",m)}function F(m){h("mousedown:control",m)}function x(m){m.stopPropagation(),K(),ae(()=>{s.value="",ta(e["onClick:clear"],m)})}function d(m){var A;const k=m.target;if(s.value=k.value,(A=e.modelModifiers)!=null&&A.trim){const U=[k.selectionStart,k.selectionEnd];ae(()=>{k.selectionStart=U[0],k.selectionEnd=U[1]})}}const H=w(),$=w(+e.rows),J=I(()=>["plain","underlined"].includes(e.variant));Ze(()=>{e.autoGrow||($.value=+e.rows)});function L(){e.autoGrow&&ae(()=>{if(!H.value||!i.value)return;const m=getComputedStyle(H.value),k=getComputedStyle(i.value.$el),A=parseFloat(m.getPropertyValue("--v-field-padding-top"))+parseFloat(m.getPropertyValue("--v-input-padding-top"))+parseFloat(m.getPropertyValue("--v-field-padding-bottom")),U=H.value.scrollHeight,q=parseFloat(m.lineHeight),W=Math.max(parseFloat(e.rows)*q+A,parseFloat(k.getPropertyValue("--v-input-control-height"))),ee=parseFloat(e.maxRows)*q+A||1/0,O=na(U??0,W,ee);$.value=Math.floor((O-A)/q),P.value=la(O)})}we(L),z(s,L),z(()=>e.rows,L),z(()=>e.maxRows,L),z(()=>e.density,L);let C;return z(H,m=>{m?(C=new ResizeObserver(L),C.observe(H.value)):C==null||C.disconnect()}),Xe(()=>{C==null||C.disconnect()}),Ee(()=>{const m=!!(o.counter||e.counter||e.counterValue),k=!!(m||o.details),[A,U]=Ye(t),{modelValue:q,...W}=Ae.filterProps(e),ee=va(e);return l(Ae,j({ref:n,modelValue:s.value,"onUpdate:modelValue":O=>s.value=O,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":J.value},e.class],style:e.style},A,W,{centerAffix:$.value===1&&!J.value,focused:V.value}),{...o,default:O=>{let{id:X,isDisabled:ne,isDirty:ue,isReadonly:me,isValid:pe}=O;return l(fa,j({ref:i,style:{"--v-textarea-control-height":P.value},onClick:p,onMousedown:F,"onClick:clear":x,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},ee,{id:X.value,active:M.value||ue.value,centerAffix:$.value===1&&!J.value,dirty:ue.value||e.dirty,disabled:ne.value,focused:V.value,error:pe.value===!1}),{...o,default:he=>{let{props:{class:oe,...se}}=he;return l(G,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),Fe(l("textarea",j({ref:g,class:oe,value:s.value,onInput:d,autofocus:e.autofocus,readonly:me.value,disabled:ne.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:K,onBlur:N},se,U),null),[[ea("intersect"),{handler:r},null,{once:!0}]]),e.autoGrow&&Fe(l("textarea",{class:[oe,"v-textarea__sizer"],id:`${se.id}-sizer`,"onUpdate:modelValue":ge=>s.value=ge,ref:H,readonly:!0,"aria-hidden":"true"},null),[[aa,s.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:k?O=>{var X;return l(G,null,[(X=o.details)==null?void 0:X.call(o,O),m&&l(G,null,[l("span",null,null),l(ma,{active:e.persistentCounter||V.value,value:R.value,max:f.value,disabled:e.disabled},o.counter)])])}:void 0})}),Oe({},n,i,g)}}),qa={__name:"FeatureForm",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const u=Be(e,"modelValue"),{builds:t}=ve(Ie()),{getBuilds:h}=Ie(),{build:o}=ve(de()),{getComponents:s}=de(),V=w(null);async function T(){u.value&&u.value.build&&(o.value=u.value.build,await s(),V.value.refresh(),N(u.value.build))}function N(R){const f=t.value.find(r=>r.id===R);if(f){let r=[];f.property_templates.forEach(n=>{const i=u.value.properties.find(P=>P.name===n.name);if(n.kind==="FEATURE"){n.style.values||(n.style.values=n.values);let P="";if(i)P=i.value;else{const g=n.values.split(",");P=g?g[0]:n.values}r.push({name:n.name,value:P,style:n.style})}}),u.value.properties.slice(0),u.value.properties=r}}return we(async()=>{await h(),await T()}),(R,f)=>{const r=Me,n=Da;return te(),fe(xe,null,{default:B(()=>[l(pa,null,{default:B(()=>[l(le,{modelValue:u.value.name,"onUpdate:modelValue":f[0]||(f[0]=i=>u.value.name=i),label:"Name",variant:"outlined",rules:[i=>!!i||"Feature name is required"],required:""},null,8,["modelValue","rules"]),l(Ba,{modelValue:u.value.description,"onUpdate:modelValue":f[1]||(f[1]=i=>u.value.description=i),required:"",label:"Description",variant:"outlined",rules:[i=>!!i||"Feature description is required"]},null,8,["modelValue","rules"]),l(Ca,{label:"Build",modelValue:u.value.build,"onUpdate:modelValue":[f[2]||(f[2]=i=>u.value.build=i),T],"item-value":"id","item-title":"name",items:Ne(t),variant:"outlined","onUpdate:focused":T,required:""},null,8,["modelValue","items"]),l(r,{modelValue:u.value.properties,"onUpdate:modelValue":f[3]||(f[3]=i=>u.value.properties=i)},null,8,["modelValue"]),l(n,{ref_key:"changesFormRef",ref:V,modelValue:u.value.changes,"onUpdate:modelValue":f[4]||(f[4]=i=>u.value.changes=i),branch:u.value.name},null,8,["modelValue","branch"])]),_:1})]),_:1})}}},Ga=ua("features",()=>{const e=w([]),u=["wip","abandoned","merged"],{user:t}=ve(Aa()),h=w(""),o=w("success"),s=w({name:"",description:"",changes:[],build:null,last_update_author:null,properties:[]}),V=w({name:"",description:"",changes:[],build:null,last_update_author:null,properties:[]}),T=w(10),N=w(1),R=w(0),f="/api/v1/features/";async function r(){const F=await(await fetch(`${f}?page=${N.value}&page_size=${T.value}`,{method:"GET"})).json();e.value=F.results,R.value=F.count}async function n(p){const F=await fetch(`${f}${p}/`);s.value=await F.json()}async function i(){if(t.value.token){s.value.last_update_author=t.value.id;const p=await fetch(f,{method:"post",body:JSON.stringify(s.value),headers:{Authorization:`Token ${t.value.token}`,"Content-Type":"application/json"}});if(!p.ok)o.value="error",h.value=p.body;else{const F=await p.json();o.value="success",h.value=`Create successfully for feature: ${F.name}`,Object.assign(s.value,F)}}}async function P(){if(t.value.token){s.value.last_update_author=t.value.id;const p=await fetch(`${f}${s.value.id}/`,{method:"put",body:JSON.stringify(s.value),headers:{Authorization:`Token ${t.value.token}`,"Content-Type":"application/json"}});if(!p.ok)o.value="error",h.value=p.body;else{const F=await p.json();Object.assign(s.value,F),o.value="success",h.value=`Updated successfully for feature: ${F.name}`}}}async function g(){if(t.value.token){const p=await fetch(`${f}${s.value.id}/`,{method:"PATCH",headers:{Authorization:`Token ${t.value.token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"abandon"})});p.ok?(o.value="success",h.value="Removed successfully"):(o.value="error",h.value=p.body)}}async function M(){if(t.value.token){const p=await fetch(`${f}${s.value.id}/`,{headers:{Authorization:`Token ${t.value.token}`,"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify({action:"approve"})});if(!p.ok)o.value="error",h.value=p.body;else{const F=await p.json();Object.assign(s.value,F),o.value="success",h.value="Approved successfully"}}}function K(p){return!u.includes(p==null?void 0:p.toLowerCase())}return{defaultFeature:V,endStatus:u,currentFeature:s,features:e,user:t,pageSize:T,pageNumber:N,total:R,alertMessage:h,alertType:o,getFeatures:r,createFeature:i,updateFeature:P,deleteFeature:g,approveFeature:M,getFeature:n,isFeatureEditable:K}}),Ka={__name:"StatusChip",props:["status"],setup(e){const u=e,t=new Map([["ACTIVE","primary"],["WIP","brown"],["MERGED","green"],["ABANDONED","grey"]]),h=I(()=>t.has(u.status)?t.get(u.status):"info");return(o,s)=>(te(),fe(je,{variant:"flat",density:"compact",dark:"",color:h.value},{default:B(()=>[be($e(u.status),1)]),_:1},8,["color"]))}};export{Ka as _,qa as a,Ga as u};
