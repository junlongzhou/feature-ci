import{g as de,i as se,j as L,o as ne,e as P,V as T,b as J,d as M,a as S,c as z}from"./VForm-DPioLLmB.js";import{V as Z,b as ie,e as B}from"./VToolbar-CTtrlpKH.js";import{i as _,j as $}from"./VBtn-fYltUM7Y.js";import{V as re}from"./VRow-D2VtcfyE.js";import{V as k}from"./VCol-DxMKS-bT.js";import{k as me,g as K,j as H,i as Q,V as ce,a as W}from"./VDialog-C1QuPGpr.js";import{p as fe,a4 as ve,g as Ve,A as pe,ai as ke,e as ee,h as _e,ad as be,i as e,D as E,ac as ge,o as y,k as h,w as l,n as r,O as ye,L as Ce,a3 as xe,r as U,N as Ue,x as X,y as Be,Q as m,R as D,X as he,l as we,q as Pe,Y as Te,M as Y}from"./index-D3ojRB6d.js";import{V as qe}from"./VDataTableServer-CUXprsMY.js";const Ne=fe({...de(),...ve(me(),["inline"])},"VCheckbox"),G=Ve()({name:"VCheckbox",inheritAttrs:!1,props:Ne(),emits:{"update:modelValue":n=>!0,"update:focused":n=>!0},setup(n,u){let{attrs:c,slots:V}=u;const d=pe(n,"modelValue"),{isFocused:v,focus:s,blur:a}=se(n),t=ke(),p=ee(()=>n.id||`checkbox-${t}`);return _e(()=>{const[w,b]=be(c),g=L.filterProps(n),q=K.filterProps(n);return e(L,E({class:["v-checkbox",n.class]},w,g,{modelValue:d.value,"onUpdate:modelValue":C=>d.value=C,id:p.value,focused:v.value,style:n.style}),{...V,default:C=>{let{id:N,messagesId:x,isDisabled:O,isReadonly:I,isValid:A}=C;return e(K,E(q,{id:N.value,"aria-describedby":x.value,disabled:O.value,readonly:I.value},b,{error:A.value===!1,modelValue:d.value,"onUpdate:modelValue":F=>d.value=F,onFocus:s,onBlur:a}),V)}})}),{}}}),Oe={__name:"BuildForm",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(n){const u=ge(n,"modelValue");function c(){u.value.property_templates.push({name:"",values:"",style:{widget:"select",read_only:!1,values:""}})}function V(v){v.style.values=v.values}function d(v){const s=u.value.property_templates.indexOf(v);s>-1&&u.value.property_templates.splice(s,1)}return(v,s)=>(y(),h(M,null,{default:l(()=>[e(ne,null,{default:l(()=>[e(P,{modelValue:u.value.name,"onUpdate:modelValue":s[0]||(s[0]=a=>u.value.name=a),label:"Name",variant:"outlined",rules:[a=>!!a||"Build name is required"],required:""},null,8,["modelValue","rules"]),e(P,{modelValue:u.value.product,"onUpdate:modelValue":s[1]||(s[1]=a=>u.value.product=a),label:"Product",variant:"outlined",rules:[a=>!!a||"Build product is required"],required:""},null,8,["modelValue","rules"]),e(T,{variant:"outlined"},{default:l(()=>[e(Z,{color:"white"},{default:l(()=>[e(ie,null,{default:l(()=>[r("Configuration")]),_:1}),e(B),e(_,{"prepend-icon":"mdi-plus",class:"mr-3",color:"primary",variant:"elevated",onClick:c},{default:l(()=>[r(" New ")]),_:1})]),_:1}),e(J,null,{default:l(()=>[e(M,null,{default:l(()=>[(y(!0),ye(Ce,null,xe(u.value.property_templates,a=>(y(),h(re,{"no-gutters":""},{default:l(()=>[e(k,{class:"ml-1"},{default:l(()=>[e(H,{density:"compact",label:"Kind",modelValue:a.kind,"onUpdate:modelValue":t=>a.kind=t,items:["COMPONENT","FEATURE"],variant:"outlined",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(k,{class:"ml-1"},{default:l(()=>[e(H,{density:"compact",label:"Widget",modelValue:a.style.widget,"onUpdate:modelValue":t=>a.style.widget=t,items:["select","select_multiple","text"],variant:"outlined",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(k,{class:"ml-1"},{default:l(()=>[e(P,{density:"compact",modelValue:a.name,"onUpdate:modelValue":t=>a.name=t,label:"Config name",variant:"outlined",rules:[t=>!!t||"Config name is required"],required:""},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),e(k,{class:"ml-1"},{default:l(()=>[e(P,{density:"compact",modelValue:a.values,"onUpdate:modelValue":[t=>a.values=t,t=>V(a)],label:"Config Value",variant:"outlined",rules:[t=>!!t||"Config values are required"],required:""},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),e(k,{class:"ml-1"},{default:l(()=>[e(G,{density:"compact",modelValue:a.style.read_only,"onUpdate:modelValue":t=>a.style.read_only=t,label:"Read Only",variant:"outlined",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(k,{class:"ml-1"},{default:l(()=>[e(G,{density:"compact",modelValue:a.style.hidden,"onUpdate:modelValue":t=>a.style.hidden=t,label:"Hidden",variant:"outlined",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(k,{class:"ml-1 my-2"},{default:l(()=>[e($,{onClick:t=>d(a)},{default:l(()=>[r(" mdi-delete ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Ie={class:"text-h5"},Ae={__name:"BuildList",setup(n){const u=U(!1),c=U(!1),V=U([{title:"Id",key:"id"},{title:"Name",key:"name"},{title:"Product",key:"product"},{title:"Actions",key:"actions",sortable:!1}]),d=U(-1),v=ee(()=>d.value===-1?"New Build":"Edit Build"),s=U(!1),{currentBuild:a,defaultBuild:t,builds:p,user:w,pageNumber:b,pageSize:g,total:q,alertMessage:C,alertType:N}=Ue(Q()),{getBuilds:x,createBuild:O,updateBuild:I,deleteBuild:A}=Q();function F(f){d.value=p.value.indexOf(f),a.value=Object.assign({},f),u.value=!0}function le(f){d.value=p.value.indexOf(f),a.value=Object.assign({},f),c.value=!0}async function ae(){await A(),p.value.splice(d.value,1),j(),s.value=!0}function R(){u.value=!1,Y(()=>{a.value=Object.assign({},t.value),d.value=-1})}function j(){c.value=!1,Y(()=>{a.value=Object.assign({},t.value),d.value=-1})}async function te(){d.value>-1?(await I(),Object.assign(p.value[d.value],a.value)):(await O(),p.value.push(a.value)),R(),s.value=!0}return X(u,f=>{f||R()}),X(c,f=>{f||j()}),Be(()=>{g.value=10,b.value=1,x()}),(f,i)=>{const ue=Oe;return y(),h(M,{fluid:""},{default:l(()=>[e(T,{class:"elevation-2"},{default:l(()=>[e(S,null,{default:l(()=>[e(ce,{type:m(N),density:"compact",theme:"dark",text:m(C),modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=o=>s.value=o),elevation:"3",closable:""},null,8,["type","text","modelValue"])]),_:1}),e(qe,{"fixed-header":"",headers:V.value,items:m(p),"sort-by":[{key:"id",order:"asc"}],"items-per-page":m(g),"onUpdate:itemsPerPage":i[4]||(i[4]=o=>D(g)?g.value=o:null),page:m(b),"onUpdate:page":i[5]||(i[5]=o=>D(b)?b.value=o:null),"items-length":m(q),"items-per-page-options":[10,15,20],"onUpdate:options":m(x)},he({top:l(()=>[m(w).token?(y(),h(Z,{key:0,color:"white"},{default:l(()=>[e(B),e(W,{modelValue:u.value,"onUpdate:modelValue":i[2]||(i[2]=o=>u.value=o),"max-width":"900px"},{activator:l(({props:o})=>[e(_,E({"prepend-icon":"mdi-plus",class:"mr-3"},o,{color:"primary",variant:"elevated"}),{default:l(()=>[r(" New ")]),_:2},1040)]),default:l(()=>[e(T,null,{default:l(()=>[e(S,null,{default:l(()=>[we("span",Ie,Pe(v.value),1)]),_:1}),e(J,null,{default:l(()=>[e(ue,{modelValue:m(a),"onUpdate:modelValue":i[1]||(i[1]=o=>D(a)?a.value=o:null)},null,8,["modelValue"])]),_:1}),e(z,null,{default:l(()=>[e(B),e(_,{color:"primary",variant:"elevated",onClick:R},{default:l(()=>[r(" Cancel ")]),_:1}),e(_,{color:"primary",variant:"elevated",onClick:te},{default:l(()=>[r(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:c.value,"onUpdate:modelValue":i[3]||(i[3]=o=>c.value=o),"max-width":"500px"},{default:l(()=>[e(T,null,{default:l(()=>[e(S,{class:"text-h5"},{default:l(()=>[r("Are you sure you want to delete this item?")]),_:1}),e(z,null,{default:l(()=>[e(B),e(_,{color:"blue-darken-1",variant:"text",onClick:j},{default:l(()=>[r("Cancel")]),_:1}),e(_,{color:"blue-darken-1",variant:"text",onClick:ae},{default:l(()=>[r("OK")]),_:1}),e(B)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})):Te("",!0)]),"no-data":l(()=>[e(_,{color:"primary",onClick:m(x)},{default:l(()=>[r(" Reset ")]),_:1},8,["onClick"])]),_:2},[m(w).token?{name:"item.actions",fn:l(({item:o})=>[e($,{class:"me-2",size:"small",onClick:oe=>F(o)},{default:l(()=>[r(" mdi-pencil ")]),_:2},1032,["onClick"]),e($,{size:"small",onClick:oe=>le(o)},{default:l(()=>[r(" mdi-delete ")]),_:2},1032,["onClick"])]),key:"0"}:void 0]),1032,["headers","items","items-per-page","page","items-length","onUpdate:options"])]),_:1})]),_:1})}}},Le={__name:"builds",setup(n){return(u,c)=>{const V=Ae;return y(),h(V)}}};export{Le as default};
